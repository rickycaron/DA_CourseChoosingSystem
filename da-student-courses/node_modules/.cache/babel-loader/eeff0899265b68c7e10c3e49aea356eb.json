{"remainingRequest":"C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\src\\views\\account\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\src\\views\\account\\login.vue","mtime":1623873975173},{"path":"C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogJyAnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGlzU3R1ZGVudDogdHJ1ZSwKICAgICAgc3VjY2Vzc01lc3NhZ2U6IG51bGwsCiAgICAgIGVycm9yTWVzc2FnZTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZVN0YXRlOiBmdW5jdGlvbiB0b2dnbGVTdGF0ZSgpIHsKICAgICAgdGhpcy5pc1N0dWRlbnQgPSAhdGhpcy5pc1N0dWRlbnQ7CiAgICAgIHRoaXMuZW1haWwgPSAnICcsIHRoaXMucGFzc3dvcmQgPSAnJzsKICAgIH0sCiAgICBzaG93UGFzc3dvcmQ6IGZ1bmN0aW9uIHNob3dQYXNzd29yZCgpIHsKICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFzc3dvcmQiKTsKCiAgICAgIGlmICh4LnR5cGUgPT09ICJwYXNzd29yZCIpIHsKICAgICAgICB4LnR5cGUgPSAidGV4dCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgeC50eXBlID0gInBhc3N3b3JkIjsKICAgICAgfQogICAgfSwKICAgIHN1Ym1pdExvZ2luRm9ybTogZnVuY3Rpb24gc3VibWl0TG9naW5Gb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGluZm8gPSB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coaW5mbyk7CiAgICAgIHZhciBhcGlVcmwgPSAnd2VsY29tZS9sb2dpbicgKyAodGhpcy5pc1N0dWRlbnQgPyAnU3R1ZGVudCcgOiAnSW5zdHJ1Y3RvcicpOwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiBhcGlVcmwsCiAgICAgICAgZGF0YTogaW5mbywKICAgICAgICAvLyBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiIH0sCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlIC8vIGNyb3NzRG9tYWluOiB0cnVlCgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygiTG9naW4gaW4gcmVxdWVzdCBzZW50ISIpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKCiAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICBfdGhpcy5zdWNjZXNzTWVzc2FnZSA9ICJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluISBMb2FkaW5nLi4uIjsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzZnVsbHkgbG9nZ2VkaW4hIik7CgogICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2VMb2dpblN0YXRlJywgdHJ1ZSk7CgogICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRJc1N0dWRlbnQnLCBfdGhpcy5pc1N0dWRlbnQpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCJUaGUgdXNlciBzdGF0ZSBpcyBhbHJlYWR5IHNldCEiKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnU3R1ZGVudHMnCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZXJyb3JNZXNzYWdlID0gIlRoZSBwYXNzd29yZCBkb2VzJ3QgbWF0Y2ggdGhlIGVtYWlsLiBPciB0aGUgZW1haWwgZG9lc24ndCBleGlzdC4iOwogICAgICAgICAgY29uc29sZS5sb2coIk5vdCBsb2dnZWQgaW4iKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\ZhuRui\\Desktop\\daproject\\a20da10\\da-student-courses\\src\\views\\account\\login.vue"],"names":[],"mappings":"AAoDA,eAAe;AACX,EAAA,IADW,kBACL;AACD,WAAM;AACF,MAAA,KAAK,EAAE,GADL;AAEF,MAAA,QAAQ,EAAE,EAFR;AAGF,MAAA,SAAS,EAAC,IAHR;AAIF,MAAA,cAAc,EAAC,IAJb;AAKF,MAAA,YAAY,EAAC;AALX,KAAN;AAOH,GATS;AAUV,EAAA,OAAO,EAAE;AACL,IAAA,WADK,yBAEL;AACG,WAAK,SAAL,GAAiB,CAAC,KAAK,SAAvB;AACA,WAAK,KAAL,GAAY,GAAZ,EACA,KAAK,QAAL,GAAc,EADd;AAEF,KANI;AAOL,IAAA,YAPK,0BAQL;AACI,UAAI,CAAA,GAAI,QAAQ,CAAC,cAAT,CAAwB,UAAxB,CAAR;;AACG,UAAI,CAAC,CAAC,IAAF,KAAW,UAAf,EAA2B;AACvB,QAAA,CAAC,CAAC,IAAF,GAAS,MAAT;AACJ,OAFA,MAEO;AACH,QAAA,CAAC,CAAC,IAAF,GAAS,UAAT;AACJ;AACN,KAfI;AAgBL,IAAA,eAhBK,6BAiBL;AAAA;;AAEG,UAAI,IAAG,GAAI;AACP,QAAA,KAAK,EAAE,KAAK,KADL;AAEP,QAAA,QAAQ,EAAE,KAAK;AAFR,OAAX;AAIA,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,UAAI,MAAK,GAAI,mBAAmB,KAAK,SAAL,GAAe,SAAf,GAAyB,YAA5C,CAAb;AACA,MAAA,KAAK,CAAC;AACN,QAAA,GAAG,EAAE,MADC;AAEN,QAAA,IAAI,EAAE,IAFA;AAGN;AACA,QAAA,MAAM,EAAE,MAJF;AAKN,QAAA,eAAe,EAAE,IALX,CAMN;;AANM,OAAD,CAAL,CAOG,IAPH,CAOQ,UAAA,GAAE,EAAK;AACX,QAAA,OAAO,CAAC,GAAR,CAAY,wBAAZ;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAhB;;AACA,YAAG,GAAG,CAAC,IAAP,EAAY;AACR,UAAA,KAAI,CAAC,cAAL,GAAsB,oCAAtB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,wBAAZ;;AACA,UAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,kBAArB,EAAwC,IAAxC;;AACA,UAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAoC,KAAI,CAAC,SAAzC;;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,gCAAZ;;AACA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,YAAA,IAAI,EAAC;AAAN,WAAlB;AACH,SAPD,MAOK;AACD,UAAA,KAAI,CAAC,YAAL,GAAoB,kEAApB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,eAAZ;AACJ;AACH,OArBD,EAqBG,KArBH,CAqBS,UAAA,KAAI,EAAK;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACH,OAvBD;AAwBH;AAjDK;AAVC,CAAf","sourcesContent":["<template>\r\n<div class=\"container-fluid\">\r\n    <div class=\"row no-gutter\">\r\n        <div class=\"d-none d-md-flex col-md-4 col-lg-6 bg-image\"></div>\r\n        <div class=\"col-md-8 col-lg-6\">\r\n            <div class=\"login d-flex align-items-center py-5\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-9 col-lg-8 mx-auto\">\r\n                            <h3 class=\"login-heading \">Welcome to Course System!</h3>\r\n                            <div v-if=\"successMessage\" class=\"alert alert-success\">\r\n                                <strong>Success! </strong>{{successMessage}}\r\n                            </div>\r\n                            <form @submit.prevent=\"submitLoginForm\">\r\n                                <div class=\"form-label-group\">\r\n                                    <input type=\"text\" id=\"email\" class=\"form-control\" placeholder=\"Email address\" required autofocus v-model=\"email\">\r\n                                    <label for=\"email\">Email address</label>\r\n                                </div>\r\n                                <div class=\"form-label-group\">\r\n                                    <input type=\"password\" id=\"password\" class=\"form-control\" placeholder=\"Password\" required v-model=\"password\">\r\n                                    <label for=\"password\">Password</label>\r\n                                </div>\r\n                                <div v-if=\"errorMessage\" class=\"alert alert-danger\">\r\n                                    <strong>Wrong! </strong>{{errorMessage}}\r\n                                </div>\r\n                                <!-- <input type=\"checkbox\" @click=\"showPassword\">Show Password -->\r\n                                <div class=\"jumbotron bg-light\">\r\n                                    <div class=\"df-switch\">\r\n                                        <button @click=\"toggleState\" type=\"button\" class=\"btn btn-lg btn-toggle\" data-toggle=\"button\" aria-pressed=\"false\" autocomplete=\"off\">\r\n                                        <div class=\"inner-handle\"></div>\r\n                                        <div class=\"handle\"></div>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                <p  v-if=\"isStudent\" > I am a studentÔºÅ</p>\r\n                                <p  v-else > I am a course instructor!</p>\r\n                                <button  class=\"btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2\" >Sign in</button>\r\n                                <div class=\"d-flex justify-content-between\">\r\n                                    <router-link :to=\"{name:'forgetPassword'}\" class=\"small\" >Forgot password?</router-link> \r\n                                    <router-link :to=\"{name:'register'}\" class=\"small\" >Register</router-link> \r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n         return{\r\n             email: ' ',\r\n             password: '',\r\n             isStudent:true,\r\n             successMessage:null,\r\n             errorMessage:null\r\n         }\r\n     },\r\n     methods: {\r\n         toggleState()\r\n         {\r\n            this.isStudent = !this.isStudent \r\n            this.email= ' ',\r\n            this.password=''\r\n         },\r\n         showPassword()\r\n         {\r\n             let x = document.getElementById(\"password\");\r\n                if (x.type === \"password\") {\r\n                    x.type = \"text\";\r\n                } else {\r\n                    x.type = \"password\";\r\n                }\r\n         },\r\n         submitLoginForm()\r\n         {\r\n\r\n            let info = {\r\n                email: this.email,\r\n                password: this.password\r\n            }   \r\n            console.log(info)\r\n            let apiUrl = 'welcome/login' + (this.isStudent?'Student':'Instructor')\r\n            axios({\r\n            url: apiUrl,\r\n            data: info,\r\n            // headers: { \"Content-Type\":\"application/json;charset=utf-8\" },\r\n            method: 'POST',\r\n            withCredentials: true,\r\n            // crossDomain: true\r\n            }).then(res => {\r\n                console.log(\"Login in request sent!\")\r\n                console.log(res.data)\r\n                if(res.data){\r\n                    this.successMessage = \"Successfully logged in! Loading...\"\r\n                    console.log(\"Successfully loggedin!\")\r\n                    this.$store.dispatch('changeLoginState',true)\r\n                    this.$store.dispatch('setIsStudent',this.isStudent)\r\n                    console.log(\"The user state is already set!\")\r\n                    this.$router.push({name:'Students'})\r\n                }else{\r\n                    this.errorMessage = \"The password does't match the email. Or the email doesn't exist.\"\r\n                    console.log(\"Not logged in\")\r\n                }\r\n            }).catch(error => {\r\n                console.log(error);\r\n            })\r\n         }\r\n\r\n\r\n\r\n     }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}]}